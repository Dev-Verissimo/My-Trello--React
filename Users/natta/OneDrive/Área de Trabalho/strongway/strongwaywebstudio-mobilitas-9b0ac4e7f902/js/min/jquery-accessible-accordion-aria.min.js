!function(e){var a=e(".js-accordion");a.length&&(a.each(function(a){var t=e(this);$options=t.data(),$accordions_headers=t.find(".js-accordion__header"),$accordions_prefix_classes=$options.accordionPrefixClasses||"",$accordions_multiselectable=$options.accordionMultiselectable||"",$index_accordion=a+1,t.attr({role:"tablist","aria-multiselectable":"true","class":$accordions_prefix_classes}),"none"===$accordions_multiselectable&&t.attr("aria-multiselectable","false"),$accordions_headers.each(function(a){var t=e(this),r=t.text(),o=t.next(".js-accordion__panel"),i=a+1;o.prepend(t.removeClass("js-accordion__header").addClass($accordions_prefix_classes+"__title").attr("tabindex","0")),$accordion_header=e('<button class="js-accordion__header '+$accordions_prefix_classes+'__header">'+r+"</button>"),o.before($accordion_header),$accordion_header.attr({"aria-controls":"accordion"+$index_accordion+"_panel"+i,"aria-expanded":"false",role:"tab",id:"accordion"+$index_accordion+"_tab"+i,tabindex:"-1","aria-selected":"false"}),o.attr({"aria-labelledby":"accordion"+$index_accordion+"_tab"+i,role:"tabpanel",id:"accordion"+$index_accordion+"_panel"+i,"aria-hidden":"true"}).addClass($accordions_prefix_classes+"__panel"),"true"==t.attr("data-accordion-opened")&&($accordion_header.attr("aria-expanded","true").removeAttr("data-accordion-opened"),o.attr("aria-hidden","false")),1===i&&$accordion_header.removeAttr("tabindex")})}),e("body").on("focus",".js-accordion__header",function(){var a=e(this),t=a.parent(),r=t.find(".js-accordion__header");r.attr({tabindex:"-1","aria-selected":"false"}),a.attr("aria-selected","true").removeAttr("tabindex")}).on("click",".js-accordion__header",function(a){var t=e(this),r=e("#"+t.attr("aria-controls")),o=t.parent(),i=o.attr("aria-multiselectable"),n=o.find(".js-accordion__header"),c=o.find(".js-accordion__panel");n.attr("aria-selected","false"),t.attr("aria-selected","true"),"false"==t.attr("aria-expanded")?(t.attr("aria-expanded","true"),r.attr("aria-hidden","false")):(t.attr("aria-expanded","false"),r.attr("aria-hidden","true")),"false"==i&&(c.not(r).attr("aria-hidden","true"),n.not(t).attr("aria-expanded","false")),setTimeout(function(){t.focus()},0),a.preventDefault()}).on("keydown",".js-accordion__header",function(a){var t=e(this),r=t.parent(),o=r.find(".js-accordion__header"),i=r.find(".js-accordion__header").first(),n=r.find(".js-accordion__header").last(),c=t.prevAll(".js-accordion__header").first(),d=t.nextAll(".js-accordion__header").first();37!=a.keyCode&&38!=a.keyCode||a.ctrlKey?40!=a.keyCode&&39!=a.keyCode||a.ctrlKey?36==a.keyCode?(o.attr({tabindex:"-1","aria-selected":"false"}),i.attr("aria-selected","true").removeAttr("tabindex"),setTimeout(function(){i.focus()},0),a.preventDefault()):35==a.keyCode&&(o.attr({tabindex:"-1","aria-selected":"false"}),n.attr("aria-selected","true").removeAttr("tabindex"),setTimeout(function(){n.focus()},0),a.preventDefault()):(o.attr({tabindex:"-1","aria-selected":"false"}),t.is(n)?(i.attr("aria-selected","true").removeAttr("tabindex"),setTimeout(function(){i.focus()},0)):(d.attr("aria-selected","true").removeAttr("tabindex"),setTimeout(function(){d.focus()},0)),a.preventDefault()):(o.attr({tabindex:"-1","aria-selected":"false"}),t.is(i)?(n.attr("aria-selected","true").removeAttr("tabindex"),setTimeout(function(){n.focus()},0)):(c.attr("aria-selected","true").removeAttr("tabindex"),setTimeout(function(){c.focus()},0)),a.preventDefault())}).on("keydown",".js-accordion__panel",function(a){var t=e(this),r=e("#"+t.attr("aria-labelledby")),o=t.parent(),i=o.find(".js-accordion__header").first(),n=r.prevAll(".js-accordion__header").first(),c=r.nextAll(".js-accordion__header").first(),d=o.find(".js-accordion__header").last();38==a.keyCode&&a.ctrlKey?(setTimeout(function(){r.focus()},0),a.preventDefault()):33==a.keyCode&&a.ctrlKey?r.is(i)?(setTimeout(function(){d.focus()},0),a.preventDefault()):(setTimeout(function(){n.focus()},0),a.preventDefault()):34==a.keyCode&&a.ctrlKey&&(r.is(d)?(setTimeout(function(){i.focus()},0),a.preventDefault()):(setTimeout(function(){c.focus()},0),a.preventDefault()))}))}(jQuery);